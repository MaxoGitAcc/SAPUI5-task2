<mvc:View controllerName="project1.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <Page id="page" title="{i18n>title}">
        <IconTabBar id="idIconTabBarIcons" class="sapUiResponsiveContentPadding" select=".onTabSelect">
        <items>
            <IconTabFilter text="{i18n>JSONModel}" key="JSONModel">
                <content>
                    <VBox class="sapUiSmallMergin">

                        <Toolbar >
                            <ToolbarSpacer />
                            <SearchField id="searchField"
                                width="50%"
                                placeholder="{i18n>placeHolderSearchBar}"
                                search=".onSearch"/>
                        </Toolbar>
                        <Table id="bookTable" items="{bookModel1>/books}" mode="MultiSelect">

                            <headerToolbar>
                                <Toolbar id="bookTableToolbar">
                                    <Title id="bookTableTitle" text="{i18n>header}" />

                                    <ToolbarSpacer />

                                    <Button text="{i18n>addButton}" press=".onAddRecord" type="Accept"/>
                                    <Button text="{i18n>deleteButton}" press=".onDeleteRecord" type="Reject"></Button>

                                    <ToolbarSeparator />

                                    <Select id="genreSelect" change=".onGenreChange" width="150px" items="{
                                        path: 'genreModel>/genres',
                                        templateShareable: true}">
                                        <core:Item key="{genreModel>key}" text="{genreModel>text}" />
                                    </Select>

                                    <Button text="{i18n>filterButton}" press=".onApplyFilter" type="Emphasized"/>
                                </Toolbar>
                            </headerToolbar>

                            <columns>
                                <Column ><Text text="{i18n>id}"/></Column>
                                <Column ><Text text="{i18n>name}"/></Column>
                                <Column ><Text text="{i18n>author}"/></Column>
                                <Column ><Text text="{i18n>genre}"/></Column>
                                <Column ><Text text="{i18n>releaseDate}"/></Column>
                                <Column ><Text text="{i18n>availableQuantity}"/></Column>
                                <Column ><Text text="{i18n>actions}"/></Column>
                            </columns>

                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{bookModel1>ID}"></Text>
                                        <HBox>
                                            <Text text="{bookModel1>Name}" visible="{= !${bookModel1>editMode} }"/>
                                            <Input value="{bookModel1>Name}" visible="{bookModel1>editMode}"/>
                                        </HBox>
                                        <Text text="{bookModel1>Author}"></Text>
                                        <Text text="{bookModel1>Genre}"></Text>
                                        <Text text="{
                                            parts: [
                                                { path: 'i18n>publishedString' },
                                                { path: 'bookModel1>ReleaseDate' }
                                            ], formatter: '.formatter.formatYear'}"/>
                                        <Text text="{bookModel1>AvailableQuantity}"></Text>
                                        <HBox >
                                            <Button text="Edit" 
                                                visible="{= !${bookModel1>editMode}}"
                                                press=".onEditTitle" />

                                            <Button text="Save"
                                                type="Accept" 
                                                visible="{bookModel1>editMode}"
                                                press=".onSaveTitle"/>
                                        </HBox>
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>

                    </VBox>
                </content>
            </IconTabFilter>

            <IconTabFilter text="{i18n>oDataV2}" key="oDataV2">
                <Toolbar>
                    <ToolbarSpacer />
                    <Label text="{i18n>v2SeatchBarLabel}"/>
                    <SearchField id="searchByNameV2" placeholder="{i18n>v2SearchPlaceHolder}" width="30%" 
                        liveChange=".onSearchByNameFieldLiveChangeV2"/>
                </Toolbar>
                
                <Table id="productTableV2" items="{ 
                    path: 'oDataV2Model>/Products'}" 
                    mode="MultiSelect" growing="true" growingThreshold="50">

                    <headerToolbar>
                        <Toolbar >
                            <ToolbarSpacer />
                            <Button  text="{i18n>v2AddNewRecord}" type="Accept" press="onAddRecordBtnPressV2"/>
                            <Button text="{i18n>v2Delete}" type="Reject" press="onDeleteRecordBtnPressV2"/>
                            <Select id="selectByColumnV2" width="200px" change=".onColumnSelectChangeV2"
                                items="{path: 'columnV2Model>/columns'}">
                                <core:Item key="{columnV2Model>key}" text="{columnV2Model>text}" enabled="{enabled}"/>
                            </Select>
                        </Toolbar>
                    </headerToolbar>
                
                    <columns>
                        <Column><Text text="{i18n>v2Id}"/></Column>
                        <Column><Text text="{i18n>v2Name}"/></Column>
                        <Column><Text text="{i18n>v2Description}"/></Column>
                        <Column><Text text="{i18n>v2ReleaseDate}"/></Column>
                        <Column><Text text="{i18n>v2DiscontinuedDate}"/></Column>
                        <Column><Text text="{i18n>v2Rating}"/></Column>
                        <Column><Text text="{i18n>v2Price}"/></Column>
                        <Column><Text text="{i18n>v2Actions}"/></Column>
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{oDataV2Model>ID}"/>
                                <Text text="{oDataV2Model>Name}"/>
                                <Text text="{oDataV2Model>Description}"/>
                                <Text text="{oDataV2Model>ReleaseDate}"/>
                                <Text text="{oDataV2Model>DiscontinuedDate}"/>
                                <Text text="{oDataV2Model>Rating}"/>
                                <Text text="{oDataV2Model>Price}"/>
                                <Button text="{i18n>v2Edit}" press=".onEditBtnPressV2"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </IconTabFilter>
            <IconTabFilter text="{i18n>oDataV4}" key="oDataV4">
                <Table id="productTableV4" items="{ 
                    path: 'oDataV4Model>/Products'}" 
                    mode="MultiSelect" growing="true" growingThreshold="50">
                
                    <columns>
                        <Column><Text text="{i18n>v2Id}"/></Column>
                        <Column><Text text="{i18n>v2Name}"/></Column>
                        <Column><Text text="{i18n>v2Description}"/></Column>
                        <Column><Text text="{i18n>v2ReleaseDate}"/></Column>
                        <Column><Text text="{i18n>v2DiscontinuedDate}"/></Column>
                        <Column><Text text="{i18n>v2Rating}"/></Column>
                        <Column><Text text="{i18n>v2Price}"/></Column>
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{oDataV4Model>ID}"/>
                                <Text text="{oDataV4Model>Name}"/>
                                <Text text="{oDataV4Model>Description}"/>
                                <Text text="{oDataV4Model>ReleaseDate}"/>
                                <Text text="{oDataV4Model>DiscontinuedDate}"/>
                                <Text text="{oDataV4Model>Rating}"/>
                                <Text text="{oDataV4Model>Price}"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </IconTabFilter>
        </items>
        </IconTabBar>
    </Page>
</mvc:View>